<h1 id="цель-работы">Цель работы</h1>
<p>Целью данной работы является изучение работы с git, а именно знакомство с командами, с помощью которых мы сможем работать с репозиториями, файлами, папками и ветками.</p>
<h1 id="теоретическое-введение">Теоретическое введение</h1>
<p>
<p>Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года; координатор — Дзюн Хамано.</p>
<p>
<p>Среди проектов, использующих Git, — ядро Linux, Swift, Android, Drupal, Cairo, GNU Core Utilities, Mesa, Wine, Chromium, Compiz Fusion, FlightGear, jQuery, PHP, NASM, MediaWiki, DokuWiki, Qt, ряд дистрибутивов Linux.</p>
<p>
<p>Программа является свободной и выпущена под лицензией GNU GPL версии 2. По умолчанию используется TCP-порт 9418.</p>
<h1 id="выполнение-лабораторной-работы">Выполнение лабораторной работы</h1>
<h2 id="подготовка">1.1 Подготовка</h2>
<h3 id="установка-имени-и-электронной-почты">1.1.1 Установка имени и электронной почты</h3>
<p>
git config –global user.name “Your Name”
<p>
<p>git config –global user.email “your_email@whatever.com”</p>
<h3 id="параметры-установки-окончаний-строк">1.1.2 Параметры установки окончаний строк</h3>
<p>
Настройка core.autocrlf с параметрами true и input делает все переводы строк текстовых файлов в главном репозитории одинаковы. core.autocrlf true - git автоматически конвертирует CRLF-&gt;LF при коммите и обратно LF-&gt;CRLF при выгрузке кода из репозитория на файловую систему (используют в Windows). core.autocrlf input - конвертация CRLF в LF только при коммитах (используют в Mac/Linux).
<p>
Если core.safecrlf установлен в true или warm, git проверяет, если преобразование является обратимым для текущей настройки core.autocrlf. core.safecrlf true - отвержение необратимого преобразования lf&lt;-&gt;crlf.
<p>
<p>Полезно, когда специфические бинарники похожие на текстовые файлы. core.safecrlf warn - печать только предупреждение, но принимает необратимый переход.</p>
<p>
Для пользователей Windows:
<p>
git config –global core.autocrlf true
<p>
<p>git config –global core.safecrlf true</p>
<h3 id="установка-отображения-unicode">1.1.3 Установка отображения unicode</h3>
<p>
<p>По умолчанию, git будет печатать не-ASCII символов в именах файлов в виде восьмеричных последовательностей . Что бы избежать нечитаемых строк, установите соответствующий флаг.</p>
<p>
<p>git config –global core.quotepath off</p>
<figure>
<img src="скрины/28.jpg" alt="Рис.1:" /><figcaption aria-hidden="true">Рис.1:</figcaption>
</figure>
<h2 id="создание-проекта">1.2 Создание проекта</h2>
<h3 id="создайте-страницу-hello-world">1.2.1 Создайте страницу «Hello, World»</h3>
<p>
<p>Начните работу в пустом рабочем каталоге с создания пустого каталога с именем hello, затем войдите в него и создайте там файл с именем hello.html.</p>
<p>
mkdir hello
<p>
cd hello
<p>
touch hello.html
<p>
<p>echo “Hello, World!” &gt; hello.html</p>
<figure>
<img src="скрины/36.jpg" alt="Рис.2:" /><figcaption aria-hidden="true">Рис.2:</figcaption>
</figure>
<h3 id="создание-репозитория-и-добавление-файла-в-репозиторий">1.2.2 Создание репозитория и добавление файла в репозиторий</h3>
<p>
<p>Добавим файл в репозиторий.</p>
<p>
git add hello.html
<p>
<p>git commit -m “Initial Commit”</p>
<figure>
<img src="скрины/88.jpg" alt="Рис.3:" /><figcaption aria-hidden="true">Рис.3:</figcaption>
</figure>
<h3 id="проверка-состояние-репозитория">1.2.3 Проверка состояние репозитория</h3>
<p>
<p>Используйте команду git status, чтобы проверить текущее состояние репозитория.</p>
<p>
<p>git status</p>
<figure>
<img src="скрины/89.jpg" alt="Рис.4:" /><figcaption aria-hidden="true">Рис.4:</figcaption>
</figure>
<h2 id="внесение-изменений">1.3 Внесение изменений</h2>
<h3 id="измените-страницу-hello-world">1.3.1 Измените страницу «Hello, World»</h3>
<p>
<p>Добавим кое-какие HTML-теги к нашему приветствию. Измените содержимое файла hello.html на:</p>
<figure>
<img src="скрины/пупсик.jpg" alt="Рис.6:" /><figcaption aria-hidden="true">Рис.6:</figcaption>
</figure>
<p>
<p>Проверьте состояние рабочего каталога.</p>
<p>
<p>git status</p>
<figure>
<img src="скрины/90.jpg" alt="Рис.5:" /><figcaption aria-hidden="true">Рис.5:</figcaption>
</figure>
<figure>
<img src="скрины/87.jpg" alt="Рис.7:" /><figcaption aria-hidden="true">Рис.7:</figcaption>
</figure>
<figure>
<img src="скрины/79.jpg" alt="Рис.8:" /><figcaption aria-hidden="true">Рис.8:</figcaption>
</figure>
<h2 id="индексация-изменений">1.4 Индексация изменений</h2>
<h3 id="коммит-изменений">1.4.1 Коммит изменений</h3>
<p>
<p>Теперь выполните команду git, чтобы проиндексировать изменения. Проверьте состояние.</p>
<p>
git add hello.html
<p>
<p>git status</p>
<figure>
<img src="скрины/41.jpg" alt="Рис.9:" /><figcaption aria-hidden="true">Рис.9:</figcaption>
</figure>
<p>
<p>Сделайте коммит и проверьте состояние.</p>
<p>
<p>git commit</p>
<p>
<p>Откроется редактор.</p>
<p>
В первой строке введите комментарий: «Added h1 tag». Сохраните файл и выйдите из редактора (для этого в редакторе по-умолчанию (Vim) вам нужно нажать клавишу ESC, ввести :wq и нажать Enter).
<p>
<p>Теперь еще раз проверим состояние.</p>
<p>
<p>git status</p>
<p>
<p>Рабочий каталог чистый, можно продолжить работу</p>
<figure>
<img src="скрины/92.jpg" alt="Рис.10:" /><figcaption aria-hidden="true">Рис.10:</figcaption>
</figure>
<h3 id="добавьте-стандартные-теги-страницы">1.4.2 Добавьте стандартные теги страницы</h3>
<p>Измените страницу «Hello, World», чтобы она содержала стандартные теги html и body.</p>
<figure>
<img src="скрины/пупсик2.jpg" alt="Рис.11:" /><figcaption aria-hidden="true">Рис.11:</figcaption>
</figure>
<figure>
<img src="скрины/ААААА.jpg" alt="Рис.12:" /><figcaption aria-hidden="true">Рис.12:</figcaption>
</figure>
<p>
<p>Теперь добавьте это изменение в индекс git.</p>
<p>
<p>git add hello.html</p>
<p>
<p>Теперь добавьте заголовки HTML (секцию head) к странице «Hello, World».</p>
<figure>
<img src="скрины/96.jpg" alt="Рис.13:" /><figcaption aria-hidden="true">Рис.13:</figcaption>
</figure>
<p>
<p>Проверьте текущий статус:</p>
<p>
git status
<p>
<p>Обратите внимание на то, что hello.html указан дважды в состоянии. Первое изменение (добавление стандартных тегов) проиндексировано и готово к коммиту. Второе изменение (добавление заголовков HTML) является непроиндексированным. Если бы вы делали коммит сейчас, заголовки не были бы сохранены в репозиторий.</p>
<figure>
<img src="скрины/93.jpg" alt="Рис.14:" /><figcaption aria-hidden="true">Рис.14:</figcaption>
</figure>
<p>
<p>Произведите коммит проиндексированного изменения (значение по умолчанию), а затем еще раз проверьте состояние.</p>
<p>
git commit -m “Added standard HTML page tags”
<p>
<p>git status</p>
<figure>
<img src="скрины/91.jpg" alt="Рис.15:" /><figcaption aria-hidden="true">Рис.15:</figcaption>
</figure>
<p>
Состояние команды говорит о том, что hello.html имеет незафиксированные изменения, но уже не в буферной зоне.
<p>
<p>Теперь добавьте второе изменение в индекс, а затем проверьте состояние с помощью команды git status.</p>
<p>
git add .
<p>
<p>git status</p>
<figure>
<img src="скрины/95.jpg" alt="Рис.16:" /><figcaption aria-hidden="true">Рис.16:</figcaption>
</figure>
<h3 id="история">1.4.3 История</h3>
<p>
<p>Получим список произведенных изменений:</p>
<p>
<p>git log</p>
<figure>
<img src="скрины/45.jpg" alt="Рис.17:" /><figcaption aria-hidden="true">Рис.17:</figcaption>
</figure>
<h3 id="получение-старых-версий">1.4.4 Получение старых версий</h3>
<p>
<p>Получите хэши предыдущих версий</p>
<p>
<p>git log</p>
<p>
<p>Изучите данные лога и найдите хэш для первого коммита. Он должен быть в последней строке данных. Используйте этот хэш-код (достаточно первых 7 знаков) в команде ниже. Затем проверьте содержимое файла hello.html.</p>
<p>
git checkout “hash”
<p>
<p>cat hello.html</p>
<figure>
<img src="скрины/37.jpg" alt="Рис.18:" /><figcaption aria-hidden="true">Рис.18:</figcaption>
</figure>
<p>
<p>Вернитесь к последней версии в ветке master</p>
<p>
git checkout master
<p>
<p>cat hello.html</p>
<figure>
<img src="скрины/13.jpg" alt="Рис.19:" /><figcaption aria-hidden="true">Рис.19:</figcaption>
</figure>
<p>
<p>master — имя ветки по умолчанию. Переключая имена веток, вы попадаете на последнюю версию выбранной ветки.</p>
<h3 id="создание-тегов-версий">1.4.5 Создание тегов версий</h3>
<p>
Давайте назовем текущую версию страницы hello первой (v1).
<p>
<p>Создайте тег первой версии</p>
<p>
<p>git tag v1</p>
<p>
Теперь текущая версия страницы называется v1.
<p>
<p>Теги для предыдущих версий Давайте создадим тег для версии, которая идет перед текущей версией и назовем его v1-beta. В первую очередь нам надо переключиться на предыдущую версию. Вместо поиска до хэш, мы будем использовать ^, обозначающее «родитель v1». Вместо обозначения v1^ можно использовать v1~1. Это обозначение можно определить как «первую версию предшествующую v1».</p>
<p>
git checkout v1^
<p>
<p>cat hello.html</p>
<p>
<p>Это версия c тегами html и body, но еще пока без head. Давайте сделаем ее версией v1-beta.</p>
<p>
<p>git tag v1-beta</p>
<p><img src="скрины/78.jpg" alt="Рис.20:" /> <img src="скрины/80.jpg" alt="Рис.21:" /></p>
<h2 id="удаление-коммиттов-из-ветки">1.8 Удаление коммиттов из ветки</h2>
<p>
git revert является мощной командой, которая позволяет отменить любые коммиты в репозиторий. Однако, и оригинальный и «отмененный» коммиты видны в истории ветки (при использовании команды git log).
<p>
<p>Часто мы делаем коммит, и сразу понимаем, что это была ошибка. Было бы неплохо иметь команду «возврата», которая позволила бы нам сделать вид, что неправильного коммита никогда и не было. Команда «возврата» даже предотвратила бы появление нежелательного коммита в истории git log.</p>
<p>
<p>Давайте сделаем быструю проверку нашей истории коммитов. Выполните:</p>
<p>
<p>git log</p>
<p>
Мы видим, что два последних коммита в этой ветке — «Oops» и «Revert Oops».
<p>
<p>Давайте удалим их с помощью сброса.</p>
<p>
<p>Но прежде чем удалить коммиты, давайте отметим последний коммит тегом, чтобы потом можно было его найти.</p>
<p>
<p>git tag oops</p>
<figure>
<img src="скрины/40.jpg" alt="Рис.22:" /><figcaption aria-hidden="true">Рис.22:</figcaption>
</figure>
<figure>
<img src="скрины/84.jpg" alt="Рис.23:" /><figcaption aria-hidden="true">Рис.23:</figcaption>
</figure>
<p>
Глядя на историю лога, мы видим, что коммит с тегом «v1» является коммитом, предшествующим ошибочному коммиту. Давайте сбросим ветку до этой точки.
<p>
<p>Поскольку ветка имеет тег, мы можем использовать имя тега в команде сброса (если она не имеет тега, мы можем использовать хэш-значение).</p>
<p>
git reset –hard v1
<p>
<p>git log</p>
<p>
<p>Наша ветка master теперь указывает на коммит v1, а коммитов Oops и Revert Oops в ветке уже нет. Параметр –hard указывает, что рабочий каталог должен быть обновлен в соответствии с новым head ветки.</p>
<h2 id="работа-с-ветками">1.9 Работа с ветками</h2>
<p>Пора сделать наш hello world более выразительным. Так как это может занять некоторое время, лучше переместить эти изменения в отдельную ветку, чтобы изолировать их от изменений в ветке master.</p>
<h3 id="создайте-ветку">1.9.1 Создайте ветку</h3>
<p>
Давайте назовем нашу новую ветку «style».
<p>
<p>Выполните:</p>
<p>
git checkout -b style
<p>
git status
<p>
<p>git checkout -b</p>
<p>
<p>Обратите внимание, что команда git status сообщает о том, что вы находитесь в ветке «style».</p>
<figure>
<img src="скрины/10.jpg" alt="Рис.24:" /><figcaption aria-hidden="true">Рис.24:</figcaption>
</figure>
<h3 id="просмотрите-текущие-ветки">1.9.2 Просмотрите текущие ветки</h3>
<p>
Теперь у нас в репозитории есть две отличающиеся ветки. Используйте следующую лог-команду для просмотра веток и их отличий.
<p>
<p>Выполните:</p>
<p>
<p>git log –graph –all</p>
<figure>
<img src="скрины/30.jpg" alt="Рис.25:" /><figcaption aria-hidden="true">Рис.25:</figcaption>
</figure>
<h3 id="слияние-веток">1.9.3 Слияние веток</h3>
<p>
Слияние переносит изменения из двух веток в одну. Давайте вернемся к ветке style и сольем master с style.
<p>
<p>Выполните:</p>
<p>
git checkout style
<p>
git merge master
<p>
<p>git log –graph –all</p>
<p><img src="скрины/15.jpg" alt="Рис.26:" /> <img src="скрины/32.jpg" alt="Рис.27:" /></p>
<p>
<p>Путем периодического слияния ветки master с веткой style вы можете переносить из master любые изменения и поддерживать совместимость изменений style с изменениями в основной ветке.</p>
<h3 id="сброс-ветки-style">1.9.4 Сброс ветки style</h3>
<p>
Вернемся на ветке style к точке перед тем, как мы слили ее с веткой master. Мы можем сбросить ветку к любому коммиту. По сути, это изменение указателя ветки на любую точку дерева коммитов.
<p>
В этом случае мы хотим вернуться в ветке style в точку перед слиянием с master.
<p>
Нам необходимо найти последний коммит перед слиянием.
<p>
<p>Выполните:</p>
<p>
git checkout style
<p>
<p>git log –graph</p>
<p>
<p>Мы видим, что коммит «Updated index.html» был последним на ветке style перед слиянием. Давайте сбросим ветку style к этому коммиту. Выполните:</p>
<p>
<p>git reset –hard “hash”</p>
<figure>
<img src="скрины/61.jpg" alt="Рис.28:" /><figcaption aria-hidden="true">Рис.28:</figcaption>
</figure>
<h3 id="перебазирование">1.9.5 Перебазирование</h3>
<p>
Используем команду rebase вместо команды merge. Мы вернулись в точку до первого слияния и хотим перенести изменения из ветки master в нашу ветку style.
<p>
На этот раз для переноса изменений из ветки master мы будем использовать команду git rebase вместо слияния.
<p>
<p>Выполните:</p>
<p>
git checkout style
<p>
git rebase master
<p>
<p>git log –graph</p>
<figure>
<img src="скрины/57.jpg" alt="Рис.29:" /><figcaption aria-hidden="true">Рис.29:</figcaption>
</figure>
<h1 id="вывод">Вывод</h1>
<p>Мы поработали с git, изучили и попробовали некоторые команды.</p>
